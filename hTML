<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>นางแบบพูดภาษาไทย (Flow)</title>
<style>
  :root{ --size:360px; }
  body{
    margin:0;
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background: linear-gradient(180deg,#fafafa,#f2f6fb);
    font-family: "Noto Sans Thai", system-ui, sans-serif;
  }
  .card{
    width:var(--size);
    max-width:90vw;
    text-align:center;
    background:#fff;
    border-radius:14px;
    box-shadow:0 12px 30px rgba(16,24,40,0.08);
    padding:18px;
    position:relative;
  }
  img{
    width:100%;
    border-radius:10px;
    display:block;
    margin:0 auto 12px;
    animation:pose 4s ease-in-out infinite;
    transform-origin: center bottom;
  }
  @keyframes pose{
    0%{ transform: translateY(0) rotate(0deg); }
    25%{ transform: translateY(-6px) rotate(1deg); }
    50%{ transform: translateY(0) rotate(0deg); }
    75%{ transform: translateY(-6px) rotate(-1deg); }
    100%{ transform: translateY(0) rotate(0deg); }
}
  .controls{
    display:flex;
    gap:8px;
    justify-content:center;
    align-items:center;
  }
  button{
    padding:8px 12px;
    border-radius:10px;
    border: none;
    cursor: pointer;
    font-weight:600;
  }
  .play{
    background: #0f172a;
    color: #fff;
  }
  .retry{
    background:#eef2ff;
    color:#3730a3;
  }
  .hint{
    font-size:13px;
    color:#6b7280;
    margin-top:8px;
  }
  .badge{
    position:absolute;
    top:12px;
    left:12px;
    background:linear-gradient(90deg,#fff7ed,#fff1e6);
    color:#b45309;
    padding:6px 10px;
    border-radius:999px;
    font-weight:700;
    font-size:13px;
  }
</style>
</head>
<body>
  <div class="card" role="region" aria-label="นางแบบพูดภาษาไทย">
    <div class="badge">สินค้าแนะนำ</div>
    <!-- เปลี่ยนรูปเป็นของคุณ -->
    <img id="modelImg" src="your-image.jpg" alt="นางแบบใส่เสื้อสีดำ" />
    <div class="controls">
      <button id="btnPlay" class="play">เล่นเสียง (พูดไทย)</button>
      <button id="btnRetry" class="retry" title="ถ้าเสียงไม่ออก ให้กดปุ่มนี้">ลองอีกครั้ง</button>
    </div>
    <div class="hint" id="status">ระบบจะพยายามเล่นอัตโนมัติ หากไม่ได้ ให้กดปุ่ม "เล่นเสียง"</div>
  </div>
<script>
(function(){
  const text = "เดี๋ยวนี้ทำ TikTok ไม่ต้องออกกล้องก็ได้แล้วนะ เพราะมี AI ทำหน้า ทำเสียง ทำคอนเทนต์แทนหมด
หนังสือเล่มนี้จะสอนตั้งแต่เริ่ม กดอะไรตรงไหน ใช้แอปไหน ทำคลิปยังไง บอกแบบจับมือทำ ไม่ต้องมีประสบการณ์มาก่อน
เลยถ้าคุณอยากเริ่ม แต่ไม่รู้จะเริ่มยังไง นี่แหละ ตัวช่วยชัด
  const btnPlay = document.getElementById('btnPlay');
  const btnRetry = document.getElementById('btnRetry');
  const statusEl = document.getElementById('status');

  // ลองเลือกเสียงไทยที่มีในระบบ
  function chooseThaiVoice() {
    const synth = window.speechSynthesis;
    const voices = synth.getVoices ? synth.getVoices() : [];
    // ค้นหาเสียงที่มีภาษาเป็น th หรือ คำว่า "Thai"
    let thai = voices.find(v => (v.lang && v.lang.toLowerCase().startsWith('th')) || (v.name && v.name.toLowerCase().includes('thai')));
    // ถ้ายังไม่เจอ ให้ลองค้นหา 'th-TH' แบบ exact
    if (!thai) thai = voices.find(v => v.lang === 'th-TH');
    return thai || null;
  }

  function speak(textToSpeak){
    if (!window.speechSynthesis) {
      statusEl.textContent = "เบราว์เซอร์นี้ไม่รองรับ Web Speech API (SpeechSynthesis). ทดลองใช้บน Chrome/Edge/Safari เวอร์ชันใหม่";
      return;
    }
    const synth = window.speechSynthesis;
    const utter = new SpeechSynthesisUtterance(textToSpeak);
    utter.lang = "th-TH";
    utter.rate = 1;
    utter.pitch = 1;
    utter.volume = 1;
    // เลือกเสียงไทยถ้ามี
    const thaiVoice = chooseThaiVoice();
    if (thaiVoice) {
      utter.voice = thaiVoice;
      statusEl.textContent = "เล่นด้วยเสียง: " + (thaiVoice.name || thaiVoice.lang);
    } else {
      statusEl.textContent = "ไม่พบเสียงไทยในเครื่อง — จะพยายามสังเคราะห์ด้วยการตั้งค่า th-TH";
    }
    // รีเซ็ตก่อนพูด
    try { synth.cancel(); } catch(e){/*ignore*/ }
    // เล่น
    synth.speak(utter);
    // สถานะเมื่อจบ
    utter.onend = () => {
      statusEl.textContent = "เล่นเสียงเสร็จแล้ว";
    };
    utter.onerror = (e) => {
      statusEl.textContent = "เกิดข้อผิดพลาดขณะเล่นเสียง: " + (e.error || "unknown");
    };
}
  // พยายามเล่นอัตโนมัติ (บางเบราว์เซอร์บล็อกเสียงอัตโนมัติ)
  function tryAutoPlay(){
    // บางระบบยังไม่มี voices ตอน load — รอสักนิดแล้วเรียกอีกที
    const synth = window.speechSynthesis;
    if (synth && typeof synth.getVoices === 'function') {
      // ลองโหลด voices หลายครั้งในช่วงสั้น ๆ
      let attempts = 0;
      const maxAttempts = 8;
      const interval = setInterval(()=>{
        const v = chooseThaiVoice();
        attempts++;
        if (v || attempts >= maxAttempts) {
          clearInterval(interval);
          // พยายามเล่น (ถ้าถูกบล็อก ผู้ใช้ต้องกดปุ่ม)
          try {
            speak(text);
          } catch(e){
            // ignore
          }
        }
      }, 300);
    } else {
      // ไม่มี speechSynthesis API
      statusEl.textContent = "เบราว์เซอร์ไม่รองรับการเล่นเสียงโดยตรง";
    }
  }
  // ผูกปุ่ม
  btnPlay.addEventListener('click', () => {
    speak(text);
  });
  btnRetry.addEventListener('click', () => {
    // บางครั้งต้องโหลด voices ใหม่
    try { window.speechSynthesis.cancel(); } catch(e){}
    statusEl.textContent = "โหลดเสียงใหม่แล้ว... กรุณารอสักครู่แล้วกดเล่น";
    // รีโหลด voices และแจ้งผู้ใช้
    try {
      // some browsers update voices after this call
      const voices = window.speechSynthesis.getVoices();
    } catch(e){}
    setTimeout(()=> speak(text), 400);
  });

  // ให้ผู้ใช้คลิกใดที่หน้าเพื่ออนุญาตเสียง (ช่วยในกรณี autoplay ถูกบล็อก)
  function onFirstInteraction() {
    try { window.speechSynthesis.cancel(); } catch(e){}
    // เล่นทันทีเมื่อผู้ใช้กดครั้งแรก
    speak(text);
    window.removeEventListener('click', onFirstInteraction);
  }
  window.addEventListener('click', onFirstInteraction, { once: true });

  // เรียกพยายามเล่นอัตโนมัติ
  tryAutoPlay();

  // ให้ระบบอัปเดตสถานะเมื่อ voices เปลี่ยน (บางเบราว์เซอร์)
  window.speechSynthesis.onvoiceschanged = () => {
    // update status ถ้ามีเสียงไทย
    const v = chooseThaiVoice();
    if (v) statusEl.textContent = "พบเสียงไทย: " + (v.name || v.lang) + " — กดเล่นหรือรอออโต้";
  };
})();
</script>
</body>
</html>

สรุปสั้น ๆ และข้อแนะนำ

